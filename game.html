<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Arina Run</title>
  <style>
    body { margin: 0; overflow: hidden; /* можно использовать фон страницы */ }
    canvas { display: block; margin: 0 auto; background: transparent; }
    /* Добавляем фон градиентом под canvas */
    #game-container { width: 100vw; height: 100vh; background: linear-gradient(to top, #ffe6f0, #ffffff); display: flex; justify-content: center; align-items: center; }
  </style>
</head>
<body>
  <div id="game-container">
    <canvas id="gameCanvas" width="800" height="400"></canvas>
  </div>
  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const WIDTH = canvas.width;
    const HEIGHT = canvas.height;

    // Загрузка изображений
    const arinaImg = new Image(); arinaImg.src = 'image.png';
    const railImg = new Image(); railImg.src = 'pngtree-clothes-on-a-rack-buy-picture-image_13151407.png';
    const moneyImg = new Image(); moneyImg.src = 'Dollar-Money-PNG-Image.png';

    // Размеры препятствий и монет
    const obstacleSize = { w: 80, h: 60 };
    const collectibleSize = { w: 50, h: 50 };

    // Параметры игрока (Arina)
    const player = { x: 50, y: 0, vy: 0, gravity: 1.2, jumpPower: -15, height: 60 };

    let obstacles = [];
    let collectibles = [];
    let frame = 0;

    // При старте после загрузки определяем стартовую Y позицию Arina
    arinaImg.onload = () => {
      player.y = HEIGHT - arinaImg.height - 5;
      loop();
    };

    document.addEventListener('keydown', e => {
      if (e.code === 'Space' && player.y >= HEIGHT - arinaImg.height - 5) {
        player.vy = player.jumpPower;
      }
    });

    function update() {
      frame++;
      // Гравитация
      player.vy += player.gravity;
      player.y = Math.min(player.y + player.vy, HEIGHT - arinaImg.height - 5);

      // Создание препятствий каждую 120 кадр
      if (frame % 120 === 0) {
        obstacles.push({ x: WIDTH, y: HEIGHT - obstacleSize.h - 5, w: obstacleSize.w, h: obstacleSize.h });
      }
      // Создание монет каждую 180 кадр
      if (frame % 180 === 0) {
        collectibles.push({ x: WIDTH, y: Math.random() * 50 + (HEIGHT - 150), w: collectibleSize.w, h: collectibleSize.h });
      }

      // Сдвиг объектов
      obstacles = obstacles.map(o => ({ ...o, x: o.x - 4 })).filter(o => o.x + o.w > 0);
      collectibles = collectibles.map(c => ({ ...c, x: c.x - 4 })).filter(c => c.x + c.w > 0);
    }

    function draw() {
      ctx.clearRect(0, 0, WIDTH, HEIGHT);
      // Рисуем Arina без изменений пропорций
      ctx.drawImage(arinaImg, player.x, player.y);
      // Рисуем препятствия
      obstacles.forEach(o => ctx.drawImage(railImg, o.x, o.y, o.w, o.h));
      // Рисуем монеты
      collectibles.forEach(c => ctx.drawImage(moneyImg, c.x, c.y, c.w, c.h));
    }

    function loop() {
      update();
      draw();
      requestAnimationFrame(loop);
    }
  </script>
</body>
</html>
