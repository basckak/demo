<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Arina Run</title>
  <style>
    body { margin: 0; overflow: hidden; }
    #game-container { width: 100vw; height: 100vh; background: linear-gradient(to top, #ffe6f0, #ffffff); display: flex; justify-content: center; align-items: center; }
    canvas { background: transparent; }
  </style>
</head>
<body>
  <div id="game-container">
    <canvas id="gameCanvas" width="800" height="400"></canvas>
  </div>
  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const WIDTH = canvas.width;
    const HEIGHT = canvas.height;

    // Изображения
    const arinaImg = new Image(); arinaImg.src = 'image.png';
    const railImg = new Image(); railImg.src = 'pngtree-clothes-on-a-rack-buy-picture-image_13151407.png';
    const moneyImg = new Image(); moneyImg.src = 'Dollar-Money-PNG-Image.png';

    // Параметры игрока и объектов
    let playerW, playerH;
    const railW = 80, railH = 60;
    const moneyW = 50, moneyH = 50;
    const player = { x: 50, y: 0, vy: 0, gravity: 1.2, jumpPower: -15 };
    let obstacles = [];
    let collectibles = [];
    let frame = 0;

    // После загрузки арины задаём размеры и стартовую позицию
    arinaImg.onload = () => {
      const aspect = arinaImg.width / arinaImg.height;
      playerH = 60;                  // фиксированная высота
      playerW = playerH * aspect;    // ширина по пропорциям
      player.y = HEIGHT - playerH - 5;
      loop();
    };

    // Прыжок
    document.addEventListener('keydown', e => {
      if (e.code === 'Space' && player.y >= HEIGHT - playerH - 5) {
        player.vy = player.jumpPower;
      }
    });

    function update() {
      frame++;
      // гравитация
      player.vy += player.gravity;
      player.y = Math.min(player.y + player.vy, HEIGHT - playerH - 5);

      // новые препятствия
      if (frame % 120 === 0) {
        obstacles.push({ x: WIDTH, y: HEIGHT - railH - 5, w: railW, h: railH });
      }
      // новые монеты чуть ниже
      if (frame % 180 === 0) {
        collectibles.push({ x: WIDTH, y: Math.random() * 50 + (HEIGHT - 150), w: moneyW, h: moneyH });
      }

      // сдвиг объектов
      obstacles = obstacles.map(o => ({ x: o.x - 4, ...o })).filter(o => o.x + o.w > 0);
      collectibles = collectibles.map(c => ({ x: c.x - 4, ...c })).filter(c => c.x + c.w > 0);
    }

    function draw() {
      ctx.clearRect(0, 0, WIDTH, HEIGHT);
      // рисуем Арину с новыми размерами
      ctx.drawImage(arinaImg, player.x, player.y, playerW, playerH);
      // рисуем рейлы
      obstacles.forEach(o => ctx.drawImage(railImg, o.x, o.y, o.w, o.h));
      // рисуем деньги
      collectibles.forEach(c => ctx.drawImage(moneyImg, c.x, c.y, c.w, c.h));
    }

    function loop() {
      update();
      draw();
      requestAnimationFrame(loop);
    }
  </script>
</body>
</html>
